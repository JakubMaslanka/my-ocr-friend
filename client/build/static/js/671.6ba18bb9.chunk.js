"use strict";(self.webpackChunkmy_ocr_friend_client=self.webpackChunkmy_ocr_friend_client||[]).push([[671],{671:function(e,t,r){r.r(t),r.d(t,{default:function(){return J}});var n=r(885),s=r(413),a=r(791),i=r(110),o=r(373),c=r(593),l={hidden:{scale:0},show:{scale:1,transition:{delay:.5,type:"spring",damping:8,mass:.2,staggerChildren:.4,when:"beforeChildren"}},exit:{scale:0,transition:{ease:"easeInOut"}}},d={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{ease:"easeInOut"}},exit:{opacity:0,y:20}},u={hidden:{opacity:0,scale:.95},show:{opacity:1,scale:1,transition:{ease:"easeInOut",duration:.8}},exit:{opacity:0,scale:.8}},x={hidden:{x:1e3,opacity:0},show:{x:0,opacity:1,transition:{duration:.4,delay:.15,type:"spring",stiffness:60}},exit:{x:1e3,opacity:0,transition:{ease:"easeInOut"}}},h={hidden:{y:50,opacity:0},show:{y:0,opacity:1,transition:{delay:.25,duration:.1,ease:"easeIn",type:"spring",stiffness:80}},exit:{y:50,opacity:0,transition:{ease:"easeOut"}}},m=r(184),g=function(){return(0,m.jsx)("footer",{className:"my-12 w-full",children:(0,m.jsxs)(i.E.div,{variants:u,initial:"hidden",animate:"show",exit:"exit",children:[(0,m.jsx)("p",{className:"max-w-3xl text-xs font-thin mx-auto dark:text-gray-400 text-gray-500 text-center pb-2 pt-1",children:(0,m.jsx)("span",{children:"The application doesn't store user photos on the server."})}),(0,m.jsx)("p",{className:"max-w-3xl text-xs font-thin mx-auto dark:text-gray-400 text-gray-500 text-center pb-2 pt-1",children:(0,m.jsx)("span",{children:(0,m.jsxs)("a",{href:"https://github.com/JakubMaslanka",children:["\xa9 Jakub Maslanka ",new Date(Date.now()).getFullYear()]})})}),(0,m.jsx)("p",{className:"max-w-3xl text-xs font-thin mx-auto dark:text-gray-400 text-gray-500 text-center pb-2 pt-1",children:(0,m.jsxs)("span",{children:["API created by ",(0,m.jsx)("a",{href:"https://github.com/thi-days",children:"@thi-days"})]})})]})})},f=r(126),p=function(e){var t=e.onclick,r=e.text;return(0,m.jsx)("div",{className:"flex items-center justify-center",children:(0,m.jsx)("button",{onClick:t,className:"uppercase py-2 my-2 px-4 md:mt-16 bg-transparent dark:text-gray-800 dark:bg-white hover:dark:bg-gray-100 border-2 border-gray-800 text-gray-800 hover:bg-gray-800 hover:text-white text-md cursor-pointer",children:r})})},v=r(925),y=r(856),w=["tooltipText","children"],b=function(e){var t=e.tooltipText,r=e.children,o=(0,v.Z)(e,w),c=(0,a.useState)(!1),l=(0,n.Z)(c,2),d=l[0],u=l[1];return(0,m.jsxs)("div",(0,s.Z)((0,s.Z)({className:"relative cursor-default",onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)}},o),{},{children:[(0,m.jsx)(y.M,{children:d&&(0,m.jsx)(i.E.div,{variants:h,initial:"hidden",animate:"show",exit:"exit",className:"absolute w-24 text-sm text-center bg-gray-600 dark:bg-gray-200 text-gray-200 dark:text-gray-900 -top-14 -left-8 p-1 border overflow-hidden border-gray-300 rounded-lg shadow-md",children:t})}),r]}))},j=function(e){var t=e.progress;return(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"text-center",children:(0,m.jsx)("span",{className:"text-xs font-light inline-block py-1 px-2 uppercase rounded-full text-white bg-fuchsia-400 ",children:"Converting in progress"})}),(0,m.jsx)("div",{className:"w-full h-4 bg-gray-300 rounded-full mt-3",children:(0,m.jsxs)("div",{style:{width:"".concat(t,"%")},className:"h-full text-center text-xs text-white bg-fuchsia-400 rounded-full",children:[t,"%"]})})]})},k=r(355),N=function(){if("undefined"!==typeof window&&window.localStorage){var e=window.localStorage.getItem("color-theme");if("string"===typeof e)return e;if(window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}return"light"},T=a.createContext({theme:"light",setTheme:function(){return console.log("test")}}),C=function(e){var t=e.initialTheme,r=e.children,s=a.useState(N),i=(0,n.Z)(s,2),o=i[0],c=i[1],l=function(e){var t=window.document.documentElement,r="dark"===e;t.classList.remove(r?"light":"dark"),t.classList.add(e),localStorage.setItem("color-theme",e)};return t&&l(t),a.useEffect((function(){l(o)}),[o]),(0,m.jsx)(T.Provider,{value:{theme:o,setTheme:c},children:r})},E=function(){var e=(0,a.useContext)(T),t=e.theme,r=e.setTheme;return(0,m.jsx)("div",{className:"transition duration-500 ease-in-out rounded-full p-2",children:(0,m.jsxs)("div",{className:"flex cursor-pointer",onClick:function(){return r("dark"===t?"light":"dark")},children:[(0,m.jsxs)("div",{className:"relative inline-block w-10 mr-2 align-middle select-none",children:[(0,m.jsx)("input",{onChange:function(){return r("dark"===t?"light":"dark")},checked:"dark"===t,type:"checkbox",name:"toggle",id:"Blue",className:"checked:bg-fuchsia-400 outline-none focus:outline-none right-4 checked:right-0 duration-200 ease-in absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"}),(0,m.jsx)("label",{onClick:function(){return r("dark"===t?"light":"dark")},htmlFor:"Blue",className:"block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"})]}),(0,m.jsx)("span",{className:"text-gray-400 font-medium",children:(0,m.jsx)("div",{className:"text-gray-500 dark:text-gray-400 text-2xl cursor-pointer",children:"dark"===t?(0,m.jsx)(k.Mei,{}):(0,m.jsx)(k.TLr,{})})})]})})},I=function(){return(0,m.jsx)("header",{className:"h-24 sm:h-32 flex items-center z-30 w-full",children:(0,m.jsxs)(i.E.div,{variants:u,initial:"hidden",animate:"show",exit:"exit",className:"container mx-auto px-6 flex items-center justify-between",children:[(0,m.jsxs)("div",{className:"uppercase text-gray-800 dark:text-white font-black text-3xl flex items-center",children:[(0,m.jsx)(f.Q2q,{size:"32px",color:"#E879F9"}),(0,m.jsx)("span",{className:"text-xs ml-3 mt-1",children:"MY-OCR-FRIEND"})]}),(0,m.jsx)(E,{})]})})},S=r(982),Z=r(164),R=r(820),O=function(e){var t=e.type,r=e.message,s=e.id,i=(0,a.useState)({headline:"Success",style:"w-42 bg-green-200 border-green-400 text-green-600 border-l-4 p-4"}),o=(0,n.Z)(i,2),c=o[0],l=o[1],d=_().removeToast;return(0,a.useEffect)((function(){switch(t){case"danger":l({headline:"Danger",style:"w-full relative bg-yellow-200 border-yellow-600 text-yellow-600 border-l-4 p-2"});break;case"success":l({headline:"Success",style:"w-full relative bg-green-200 border-green-600 text-green-600 border-l-4 p-2"});break;case"error":l({headline:"Error",style:"w-full relative bg-red-200 border-red-600 text-red-600 border-l-4 p-2"})}var e=setTimeout((function(){d(s)}),5e3);return function(){return clearTimeout(e)}}),[s,d,t]),(0,m.jsx)("div",{className:"w-80 mb-4 font-sans break-words",children:(0,m.jsxs)("div",{className:c.style,children:[(0,m.jsx)(R.oHP,{onClick:function(){return d(s)},className:"absolute top-0 right-0 m-2 cursor-pointer"}),(0,m.jsx)("p",{className:"text-xl font-bold pb-3",children:c.headline}),(0,m.jsx)("p",{className:"text-md",children:r})]})})},P=function(e){var t=e.toasts;return(0,Z.createPortal)((0,m.jsx)("div",{className:"absolute m-4 right-0 top-0 z-40 overflow-y-hiddendd",children:(0,m.jsx)(y.M,{children:t.map((function(e){return(0,m.jsx)(i.E.div,{variants:x,initial:"hidden",animate:"show",exit:"exit",children:(0,m.jsx)(O,{id:e.id,type:e.type,message:e.content})},e.id)}))})}),document.getElementById("toast-root"))},M=1,F=a.createContext({addToast:function(e,t){return console.log("Addming toast with message: ".concat(e," and type ").concat(t))},removeToast:function(e){return console.log("Removing toast id: ".concat(e))}}),_=function(){return(0,a.useContext)(F)},z=function(e){var t=e.children,r=(0,a.useState)([]),s=(0,n.Z)(r,2),i=s[0],o=s[1],c=(0,a.useCallback)((function(e,t){o((function(r){return[].concat((0,S.Z)(r),[{id:M++,content:e,type:t}])}))}),[o]),l=(0,a.useCallback)((function(e){o((function(t){return t.filter((function(t){return t.id!==e}))}))}),[o]);return(0,m.jsxs)(F.Provider,{value:{addToast:c,removeToast:l},children:[(0,m.jsx)(P,{toasts:i}),t]})};var D=r(861),A=r(757),L=r.n(A),Y=function(){var e=(0,D.Z)(L().mark((function e(t,r){var n;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://my-ocr-friend.herokuapp.com/ocr/read-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:e.prev=7,e.t0=e.catch(0),r(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}();function q(e,t){switch(t.type){case"request":return(0,s.Z)((0,s.Z)({},e),{},{isConverting:!0});case"progressIncrease":return(0,s.Z)((0,s.Z)({},e),{},{convertingProgress:t.percent});case"success":return{isConverting:!1,convertingProgress:100,ocrText:t.result};case"reset":return{isConverting:!1,convertingProgress:0,ocrText:null};default:return e}}var B=function(){var e=(0,a.useReducer)(q,{isConverting:!1,convertingProgress:0,ocrText:null}),t=(0,n.Z)(e,2),r=t[0],s=t[1],u=(0,a.useRef)(void 0),x=(0,a.useRef)(null),h=r.ocrText,f=r.isConverting,v=r.convertingProgress,y=_().addToast;return(0,a.useEffect)((function(){return f&&(u.current=window.setInterval((function(){return s({type:"progressIncrease",percent:v<100?v+1:100})}),250)),function(){return clearInterval(u.current)}}),[f,v]),(0,m.jsxs)("main",{className:"dark:bg-gray-800 font-mono bg-white relative",children:[(0,m.jsx)(I,{}),(0,m.jsx)(i.E.div,{variants:l,initial:"hidden",animate:"show",exit:"exit",className:"flex relative z-20 items-center",children:(0,m.jsx)("div",{className:"container mx-auto px-6 flex flex-col justify-between items-center relative py-4",children:(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsxs)(i.E.h2,{variants:d,className:"max-w-3xl text-2xl md:text-3xl font-bold mx-auto dark:text-white text-gray-800 text-center py-2",children:[(0,m.jsx)("span",{className:"text-fuchsia-400",children:"MY-OCR-FRIEND"})," is a web app allowing you to convert image into text.",(0,m.jsx)("br",{}),(0,m.jsx)("span",{className:"text-fuchsia-300",children:"Try it out, just paste image!"})]}),(0,m.jsxs)(i.E.div,{variants:d,children:[(0,m.jsx)("p",{className:"text-lg my-8 font-medium text-center dark:text-white",children:"Your image needs to be on your's clipboard!"}),(0,m.jsx)("p",{className:"text-sm -mt-8 font-extralight text-center dark:text-white",children:"The written text should be in English."})]}),(0,m.jsxs)(i.E.div,{variants:d,className:"my-8",children:[(0,m.jsx)("label",{className:"text-xs font-extrabold text-fuchsia-400 py-2",htmlFor:"content",children:"Paste image here:"}),(0,m.jsx)("div",{id:"content",className:"h-28 max-w-3xl mb-8 mt-0 p-4 border border-fuchsia-500 shadow-lg outline-none overflow-y-scroll",contentEditable:!0,ref:x})]}),f?(0,m.jsx)(j,{progress:v}):!h&&(0,m.jsx)(i.E.div,{variants:d,children:(0,m.jsx)(p,{onclick:function(){if(x.current.hasChildNodes()){var e=x.current.children[0];e&&e.src?(s({type:"request"}),Y({imageUrl:e.src},(function(e){return y("Internal server error, message: ".concat(e),"error")})).then((function(e){y("The photo was converted correctly!","success"),s({type:"success",result:e})})).catch((function(e){return y("Something went wrong, error message: ".concat(e),"error")}))):y("Content to convert is invalid. Change it!","danger")}else y("There is no picture in the zone!","danger")},text:"CONVERT"})}),(null===h||void 0===h?void 0:h.result)&&(0,m.jsxs)(i.E.div,{variants:d,children:[(0,m.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,m.jsx)("label",{className:"text-md font-extrabold text-fuchsia-400 pt-2",htmlFor:"content",children:"Result:"}),(0,m.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,m.jsx)(b,{tooltipText:"Copy to clipboard",children:(0,m.jsx)("div",{onClick:function(){return(e=h.result,t=function(){return y("The result was not copied to the clipboard. Error occured.","danger")},e||t(),window.navigator.clipboard||t(),navigator.clipboard.writeText(e)).then((function(){y("The text was successfully copied to the clipboard!","success")})).catch((function(){y("Something went wrong while copying the result!","error")}));var e,t},className:"bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 hover:bg-gray-300 transition-all duration-100 p-2 rounded-lg shadow-md cursor-pointer",children:(0,m.jsx)("span",{className:"text-gray-800 dark:text-gray-200",children:(0,m.jsx)(o.Odh,{})})})}),(0,m.jsx)(b,{tooltipText:"Translate text",children:(0,m.jsx)("div",{onClick:function(){return e=h.result,t=function(){return y("The result text is not converted yet!","danger")},e||t(),void window.open("https://www.deepl.com/translator#en/pl/".concat(encodeURIComponent(e)),"_blank");var e,t},className:"bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 hover:bg-gray-300 transition-all duration-100 p-2 rounded-lg shadow-md cursor-pointer",children:(0,m.jsx)("span",{className:"text-gray-800 dark:text-gray-200",children:(0,m.jsx)(c.wd6,{})})})})]})]}),(0,m.jsx)("div",{className:"max-w-3xl my-4 p-2 border border-fuchsia-500 shadow-lg outline-none relative",children:(0,m.jsx)("span",{className:"font-medium text-lg text-black dark:text-white",children:h.result})}),(0,m.jsx)(p,{onclick:function(){null!==u.current&&clearInterval(u.current),x.current.hasChildNodes()&&Array.from(x.current.children).forEach((function(e){return e.remove()})),s({type:"reset"})},text:"START OVER"})]})]})})}),(0,m.jsx)(g,{})]})},J=function(){return(0,m.jsx)(z,{children:(0,m.jsx)(C,{initialTheme:"light",children:(0,m.jsx)(B,{})})})}}}]);
//# sourceMappingURL=671.6ba18bb9.chunk.js.map